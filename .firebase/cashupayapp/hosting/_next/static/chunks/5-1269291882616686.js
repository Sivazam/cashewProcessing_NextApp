"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5],{82666:function(e,t,a){a.d(t,{$:function(){return es}});var s=a(57437),r=a(61396),n=a.n(r),l=a(24033),d=a(39311),o=a(2265),i=a(44135),c=a(93088),m=a(91350),f=a(93023),x=a(23291),u=a(17158),p=a(62442),h=a(76369);let j=x.fC,N=x.xz;x.ZA,x.Uv,x.Tr,x.Ee;let g=o.forwardRef((e,t)=>{let{className:a,inset:r,children:n,...l}=e;return(0,s.jsxs)(x.fF,{ref:t,className:(0,d.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",a),...l,children:[n,(0,s.jsx)(u.Z,{className:"ml-auto h-4 w-4"})]})});g.displayName=x.fF.displayName;let y=o.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(x.tu,{ref:t,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})});y.displayName=x.tu.displayName;let w=o.forwardRef((e,t)=>{let{className:a,sideOffset:r=4,...n}=e;return(0,s.jsx)(x.Uv,{children:(0,s.jsx)(x.VY,{ref:t,sideOffset:r,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...n})})});w.displayName=x.VY.displayName;let b=o.forwardRef((e,t)=>{let{className:a,inset:r,...n}=e;return(0,s.jsx)(x.ck,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",a),...n})});b.displayName=x.ck.displayName;let v=o.forwardRef((e,t)=>{let{className:a,children:r,checked:n,...l}=e;return(0,s.jsxs)(x.oC,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:n,...l,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(x.wU,{children:(0,s.jsx)(p.Z,{className:"h-4 w-4"})})}),r]})});v.displayName=x.oC.displayName;let k=o.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(x.Rk,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(x.wU,{children:(0,s.jsx)(h.Z,{className:"h-2 w-2 fill-current"})})}),r]})});k.displayName=x.Rk.displayName;let C=o.forwardRef((e,t)=>{let{className:a,inset:r,...n}=e;return(0,s.jsx)(x.__,{ref:t,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",a),...n})});C.displayName=x.__.displayName;let R=o.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(x.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...r})});function z(){let{setTheme:e}=(0,m.F)();return(0,s.jsxs)(j,{children:[(0,s.jsx)(N,{asChild:!0,children:(0,s.jsxs)(f.z,{variant:"outline",size:"icon",className:"rounded-full",children:[(0,s.jsx)(i.Z,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,s.jsx)(c.Z,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}),(0,s.jsxs)(w,{align:"end",children:[(0,s.jsx)(b,{onClick:()=>e("light"),children:"Light"}),(0,s.jsx)(b,{onClick:()=>e("dark"),children:"Dark"}),(0,s.jsx)(b,{onClick:()=>e("system"),children:"System"})]})]})}R.displayName=x.Z0.displayName;var S=a(37346),Y=a(25750),Z=a(66840),F=a(29409),_=a(93330),A=a(39957),E=a(64248),I=a(26202),O=a(41827),L=a(12609);let U=o.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(I.mY,{ref:t,className:(0,d.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",a),...r})});U.displayName=I.mY.displayName;let V=o.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,s.jsx)(O.Z,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,s.jsx)(I.mY.Input,{ref:t,className:(0,d.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",a),...r})]})});V.displayName=I.mY.Input.displayName;let W=o.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(I.mY.List,{ref:t,className:(0,d.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",a),...r})});W.displayName=I.mY.List.displayName;let D=o.forwardRef((e,t)=>(0,s.jsx)(I.mY.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));D.displayName=I.mY.Empty.displayName;let G=o.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(I.mY.Group,{ref:t,className:(0,d.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",a),...r})});G.displayName=I.mY.Group.displayName;let J=o.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(I.mY.Separator,{ref:t,className:(0,d.cn)("-mx-1 h-px bg-border",a),...r})});J.displayName=I.mY.Separator.displayName;let H=o.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(I.mY.Item,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",a),...r})});H.displayName=I.mY.Item.displayName;var P=a(25831),T=a(74578),B=a(61865),X=a(38110),$=a(51872),q=a(71424),K=a(80459),M=a(51908);let Q=T.z.object({name:T.z.string().min(2,{message:"Firm name must be at least 2 characters."}),location:T.z.string().optional()});function ee(e){let{open:t,onOpenChange:a}=e,[r,n]=(0,o.useState)(!1),{addFirm:l,selectFirm:d}=(0,_.g6)(),i=(0,B.cI)({resolver:(0,X.F)(Q),defaultValues:{name:"",location:""}}),c=async e=>{n(!0);try{let t={id:(0,$.Z)(),name:e.name,location:e.location||void 0,createdAt:new Date().toISOString()};l(t),d(t.id),q.Am.success("Firm added successfully"),i.reset(),a(!1)}catch(e){q.Am.error("Failed to add firm"),console.error(e)}finally{n(!1)}};return(0,s.jsx)(L.Vq,{open:t,onOpenChange:a,children:(0,s.jsxs)(L.cZ,{className:"sm:max-w-[425px]",children:[(0,s.jsxs)(L.fK,{children:[(0,s.jsx)(L.$N,{children:"Add New Firm"}),(0,s.jsx)(L.Be,{children:"Create a new processing unit to track workers and production."})]}),(0,s.jsx)(K.l0,{...i,children:(0,s.jsxs)("form",{onSubmit:i.handleSubmit(c),className:"space-y-4",children:[(0,s.jsx)(K.Wi,{control:i.control,name:"name",render:e=>{let{field:t}=e;return(0,s.jsxs)(K.xJ,{children:[(0,s.jsx)(K.lX,{children:"Firm Name"}),(0,s.jsx)(K.NI,{children:(0,s.jsx)(M.I,{placeholder:"Enter firm name",...t})}),(0,s.jsx)(K.zG,{})]})}}),(0,s.jsx)(K.Wi,{control:i.control,name:"location",render:e=>{let{field:t}=e;return(0,s.jsxs)(K.xJ,{children:[(0,s.jsx)(K.lX,{children:"Location (Optional)"}),(0,s.jsx)(K.NI,{children:(0,s.jsx)(M.I,{placeholder:"Enter location",...t})}),(0,s.jsx)(K.zG,{})]})}}),(0,s.jsx)(L.cN,{children:(0,s.jsx)(f.z,{type:"submit",disabled:r,children:r?"Adding...":"Add Firm"})})]})})]})})}function et(){let[e,t]=(0,o.useState)(!1),[a,r]=(0,o.useState)(!1),{firms:n,selectedFirmId:l,selectFirm:i}=(0,_.g6)(),c=n.find(e=>e.id===l);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(P.J2,{open:e,onOpenChange:t,children:[(0,s.jsx)(P.xo,{asChild:!0,children:(0,s.jsxs)(f.z,{variant:"outline",role:"combobox","aria-expanded":e,"aria-label":"Select a firm",className:"w-[200px] justify-between",children:[c?c.name:"Select firm...",(0,s.jsx)(A.Z,{className:"ml-auto h-4 w-4 shrink-0 opacity-50"})]})}),(0,s.jsx)(P.yk,{className:"w-[200px] p-0",children:(0,s.jsxs)(U,{children:[(0,s.jsxs)(W,{children:[(0,s.jsx)(V,{placeholder:"Search firm..."}),(0,s.jsx)(D,{children:"No firm found."}),n.length>0&&(0,s.jsx)(G,{heading:"Firms",children:n.map(e=>(0,s.jsxs)(H,{onSelect:()=>{i(e.id),t(!1)},className:"text-sm",children:[(0,s.jsx)(p.Z,{className:(0,d.cn)("mr-2 h-4 w-4",l===e.id?"opacity-100":"opacity-0")}),e.name]},e.id))})]}),(0,s.jsx)(J,{}),(0,s.jsx)(W,{children:(0,s.jsx)(G,{children:(0,s.jsxs)(H,{onSelect:()=>{t(!1),r(!0)},children:[(0,s.jsx)(E.Z,{className:"mr-2 h-5 w-5"}),"Add New Firm"]})})})]})})]}),(0,s.jsx)(ee,{open:a,onOpenChange:r})]})}var ea=a(94504);function es(){let e=(0,l.usePathname)(),{firms:t,selectedFirmId:a}=(0,_.g6)(),r=[{href:"/",label:"Dashboard",icon:(0,s.jsx)(S.Z,{className:"h-5 w-5"}),active:"/"===e},{href:"/workers",label:"Workers",icon:(0,s.jsx)(Y.Z,{className:"h-5 w-5"}),active:"/workers"===e||e.startsWith("/workers/")},{href:"/reports",label:"Reports",icon:(0,s.jsx)(Z.Z,{className:"h-5 w-5"}),active:"/reports"===e},{href:"/settings",label:"Settings",icon:(0,s.jsx)(F.Z,{className:"h-5 w-5"}),active:"/settings"===e}],[i,c]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{let e=()=>{c(window.innerWidth>768)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"border-b bg-card",children:(0,s.jsxs)("div",{className:"flex h-16 items-center px-4",children:[(0,s.jsxs)(n(),{href:"/",className:"flex items-center",children:[(0,s.jsx)("img",{src:ea.default.src,alt:"CASHU Logo",className:"h-8 mr-2 w-auto"}),(0,s.jsx)("span",{className:"font-bold",style:{fontFamily:"'Montserrat', sans-serif"},children:i?"CASHU PAY":"CP"})]}),(0,s.jsx)("nav",{className:"hidden lg:flex mx-6 items-center space-x-4 lg:space-x-6",children:r.map(e=>(0,s.jsx)(n(),{href:e.href,className:(0,d.cn)("flex items-center text-sm font-medium transition-colors hover:text-primary",e.active?"text-primary":"text-muted-foreground"),children:e.label},e.href))}),(0,s.jsxs)("div",{className:"ml-auto flex items-center space-x-4",children:[(0,s.jsx)("div",{className:"hidden sm:block",children:(0,s.jsx)(et,{})}),(0,s.jsx)("div",{className:"block sm:hidden",children:(0,s.jsx)(et,{})}),(0,s.jsx)(z,{})]})]})}),(0,s.jsx)("div",{className:"block lg:hidden fixed bottom-0 left-0 right-0 bg-card border-t z-50",style:{paddingBottom:"env(safe-area-inset-bottom)"},children:(0,s.jsx)("nav",{className:"flex justify-around items-center h-16",children:r.map(e=>(0,s.jsxs)(n(),{href:e.href,className:(0,d.cn)("flex flex-col items-center justify-center text-xs transition-colors",e.active?"text-primary":"text-muted-foreground hover:text-primary"),children:[e.icon,(0,s.jsx)("span",{children:e.label})]},e.href))})})]})}},86110:function(e,t,a){a.d(t,{Ol:function(){return d},SZ:function(){return i},Zb:function(){return l},aY:function(){return c},eW:function(){return m},ll:function(){return o}});var s=a(57437),r=a(2265),n=a(39311);let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});l.displayName="Card";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...r})});d.displayName="CardHeader";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});o.displayName="CardTitle";let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})});i.displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...r})});c.displayName="CardContent";let m=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...r})});m.displayName="CardFooter"},25831:function(e,t,a){a.d(t,{J2:function(){return d},xo:function(){return o},yk:function(){return i}});var s=a(57437),r=a(2265),n=a(65050),l=a(39311);let d=n.fC,o=n.xz,i=r.forwardRef((e,t)=>{let{className:a,align:r="center",sideOffset:d=4,...o}=e;return(0,s.jsx)(n.h_,{children:(0,s.jsx)(n.VY,{ref:t,align:r,sideOffset:d,className:(0,l.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...o})})});i.displayName=n.VY.displayName}}]);